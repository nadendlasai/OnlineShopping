@{
    ViewData["Title"] = "Login";
    ViewBag.HideHeader = true;
    ViewBag.DarkBackground = true;
}

<!-- Bootstrap Icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

<div class="d-flex justify-content-center pt-5" style="min-height: 100vh;">
    <div class="card shadow p-4" style="width: 330px; border-radius: 16px;">

        <div class="text-center mb-3">
            <img src="~/images/ShoppingLogo.png" alt="Logo" style="height:55px;">
            <h4 class="mt-3 mb-1">Welcome Back</h4>
            <p class="text-muted mb-2" style="font-size: 0.9rem;">Please login to continue</p>
        </div>

        <h5 class="text-center mb-3">Login</h5>

        <form id="loginForm" class="mt-2">

            <!-- Email -->
            <div class="mb-3">
                <label for="email" class="form-label mb-1">
                    Email <span class="text-danger">*</span>
                </label>
                <input type="email" id="email" name="email" class="form-control" required />
            </div>

            <!-- Password with eye inside -->
            <div class="mb-2">
                <label for="password" class="form-label mb-1">
                    Password <span class="text-danger">*</span>
                </label>

                <div class="position-relative">
                    <input type="password" id="password" name="password"
                           class="form-control pe-5" required />

                    <!-- Eye Icon -->
                    <i class="bi bi-eye-slash position-absolute top-50 end-0 translate-middle-y me-3"
                       id="togglePassword"
                       style="cursor: pointer; font-size: 1.1rem;"></i>
                </div>
            </div>

            <div class="text-end mb-3">
                <a href="/Account/ForgotPassword">Forgot password?</a>
            </div>

            <button type="submit" class="btn btn-primary w-100">Login</button>

        </form>

        <p class="text-center mt-3 mb-0" style="font-size: 0.9rem;">
            Don't have an account? <a href="/Account/Register">Sign up</a>
        </p>
    </div>
</div>

@section Scripts {
    <script>
        // Toggle password visibility with icon
        const pwdInput = document.getElementById("password");
        const eyeIcon = document.getElementById("togglePassword");

        eyeIcon.addEventListener("click", function () {
            const isHidden = pwdInput.type === "password";
            pwdInput.type = isHidden ? "text" : "password";
            this.classList.toggle("bi-eye");
            this.classList.toggle("bi-eye-slash");
        });
    </script>
}
